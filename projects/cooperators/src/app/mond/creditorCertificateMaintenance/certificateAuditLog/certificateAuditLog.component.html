<!-- <div>certificateAuditLog works!</div> -->
<div class="ym_content">
    <div class="md-top">
        <div>
            <mat-accordion>
                <mat-expansion-panel [expanded]="true">
                    <mat-expansion-panel-header class="md-bgClr">
                        <mat-panel-title style="color: white;">
                            Certificate Transaction History
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="row">
                        <div class="ym_form_group  col-6 mb-0">
                            <label class="md-lbl">Client Certificate Number
                            </label>
                            <input class="md-input-width" placeholder="Client Certificate Number"
                                value="{{parsedAuditLogList[0]?.uniqueCertificateNumber}}" [readonly]="isFieldreadonly">
                        </div>
                    </div>

                    <div id="ptableId" class="mb-1 pb-1">
                        <p-table [value]="parsedAuditLogList" selectionMode="single" [scrollable]="true"
                            [responsive]="true" scrollHeight="200px" [autoLayout]="true">
                            <ng-template pTemplate="header">
                                <tr class="ptableHeader">
                                    <th>File Load Date and Time</th>
                                    <th>Transaction Type</th>
                                    <th>File Name</th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-transactionHistoryResponseData>
                                <tr [pSelectableRow]="transactionHistoryResponseData">
                                    <td
                                        title="{{transactionHistoryResponseData?.fileLoadDateTime.split('T')[0]}} {{transactionHistoryResponseData?.fileLoadDateTime.split('T')[1]}}">
                                        {{transactionHistoryResponseData?.fileLoadDateTime.split('T')[0]}}
                                        {{transactionHistoryResponseData?.fileLoadDateTime.split('T')[1]}}</td>
                                    <td title="{{transactionHistoryResponseData?.transactionType}}">
                                        {{transactionHistoryResponseData?.transactionType}}</td>
                                    <td title="{{transactionHistoryResponseData?.fileName}}">
                                        {{transactionHistoryResponseData?.fileName}}</td>
                                </tr>
                            </ng-template>
                        </p-table>
                    </div>
                </mat-expansion-panel>
            </mat-accordion>
        </div>
        <hr class="m-0 p-0">
        <!-- Certificate Audit History -->
        <div class="mt-2">
            <mat-accordion>
                <mat-expansion-panel [expanded]="true">
                    <mat-expansion-panel-header class="md-bgClr">
                        <mat-panel-title style="color: white;">
                            Certificate Audit History
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div>
                        <p-table [value]="certificateAuditHistory" selectionMode="single" [scrollable]="true"
                            [responsive]="true" scrollHeight="280px" [autoLayout]="true">
                            <ng-template pTemplate="header">
                                <tr class="ptableHeader">
                                    <th>Transaction Type</th>
                                    <th>Transaction Date</th>
                                    <th>Application/Co-Applicant</th>
                                    <th>Coverage</th>
                                    <th>Field Name</th>
                                    <th>Old Value</th>
                                    <th>New Value</th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-auditHistoryResponseData>
                                <tr [pSelectableRow]="auditHistoryResponseData">
                                    <td title="{{auditHistoryResponseData?.transactionType}}">
                                        {{auditHistoryResponseData?.transactionType}}</td>
                                    <td title="{{auditHistoryResponseData?.transactionDate}}">
                                        {{auditHistoryResponseData?.transactionDate}}</td>
                                    <td title="{{auditHistoryResponseData?.applicantName}}">
                                        {{auditHistoryResponseData?.applicantName}}</td>
                                    <td title="{{auditHistoryResponseData?.coverageCode}}">
                                        {{auditHistoryResponseData?.coverageCode}}</td>
                                    <td title="{{auditHistoryResponseData?.updatedUIFieldName}}">
                                        {{auditHistoryResponseData?.updatedUIFieldName}}</td>
                                    <td title="{{auditHistoryResponseData?.oldValue}}">
                                        {{auditHistoryResponseData?.oldValue}}</td>
                                    <td title="{{auditHistoryResponseData?.newValue}}">
                                        {{auditHistoryResponseData?.newValue}}</td>
                                </tr>
                            </ng-template>
                        </p-table>
                    </div>
                </mat-expansion-panel>
            </mat-accordion>
        </div>
    </div>
</div>