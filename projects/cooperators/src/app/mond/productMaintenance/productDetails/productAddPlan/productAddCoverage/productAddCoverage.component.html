<!-- <div>product Coverage works!</div> -->

<div  [formGroup]="coverageDetailsForm" class="m-1 p-1">
    <div class="row">
        <div class="col-md-6">
        </div>
        <div class="col-md-6">
            <button class="btn btn-primary float-right ml-2">Update Coverage</button>
            <button class="btn btn-primary float-right ml-2">View Rating Factor<i
                    class="fa fa-arrow-right ml-2"></i></button>
            <button class="btn btn-primary float-right ml-2">Add Rating Factor<i class="fa fa-plus ml-2"></i></button>
        </div>
    </div>

    <div class="row">
        <div formGroupName="productInfo" class="col-4 col-lg-4 col-md-4 col-xs-4 m-2 p-1">
            <mat-card class="w-100 m-0 p-0 md-border">
                <mat-card-header class="md-card-hdr">
                    <mat-card-title class="md-clr md-font mt-1 ml-1 mr-1 mb-2 p-1"><b>Product Info</b></mat-card-title>
                </mat-card-header>
                <mat-divider></mat-divider>
                <mat-card-content class="m-1 p-1">
                    <div class="row">
                        <div class="ym_form_group col-6">
                            <label class="md-lbl">Product</label>
                            <input style="width: 70%;" formControlName="productType">
                        </div>
                        <div class="ym_form_group col-6" style="margin-top: 30px;">
                            <!-- <label class="md-lbl">Product Type</label> -->
                            <input formControlName="productName" >
                        </div>
                    </div>
                    <div class="row">
                        <div class="ym_form_group  col-6">
                            <label class="md-lbl">Product Business Model</label>
                            <div class="ym_form_select">
                                <select  formControlName="productBusinessModel" #businessList>
                                    <option selected value="">Please Select a value</option>
                                    <option value="Merchant">Merchant</option>
                                    <option value="Location">Location</option>
                                </select>
                            </div>

                        </div>
                        <div class="ym_form_group col-6">
                            <label class="md-lbl">Product Effective Date</label>
                            <div class="row pl-1">
                                <input style="width: 80%;" matInput data-name="dateFormat" [matDatepicker]="picker1"
                                    placeholder="Product Effective Date" formControlName="productEffectiveDate">
                                <mat-datepicker-toggle matSuffix [for]="picker1">
                                </mat-datepicker-toggle>
                                <mat-datepicker class="col-md-3" #picker1></mat-datepicker>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="ym_form_group col-6 m-0">
                            <label class="md-lbl">Product Status</label>
                            <div class="ym_form_select m-0">
                                <select #productStatusList formControlName="productStatus">
                                    <option selected value="">Please Select a value</option>
                                    <option value="Active">Active</option>
                                    <option value="Terminated">Terminated</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>

        <!-- Plan Info -->
        <div formGroupName="planProductInfo" class="col-4 col-lg-4 col-md-4 col-xs-4 m-2 p-1">
            <mat-card class="w-100 m-0 p-0 md-border">
                <mat-card-header class="md-card-hdr">
                    <mat-card-title class="md-clr md-font mt-1 ml-1 mr-1 mb-2 p-1"><b>Plan Info</b></mat-card-title>
                </mat-card-header>
                <mat-divider></mat-divider>
                <mat-card-content class="m-1 p-1">
                    <div class="row">
                        <div class="ym_form_group col-6">
                            <label class="md-lbl">Plan</label>
                            <input style="width: 70%;" formControlName="planNumber">
                        </div>
                        <div class="ym_form_group col-6" style="margin-top: 30px;">
                            <!-- <label class="md-lbl">Product Type</label> -->
                            <input formControlName="planName">
                        </div>
                    </div>
                    <div class="row">
                        <div class="ym_form_group  col-6">
                            <label class="md-lbl">Client Name</label>
                            <input formControlName="clientName">

                        </div>
                        <div class="ym_form_group col-6">
                            <label class="md-lbl">Plan Effective Date</label>
                            <div class="row pl-1">
                                <input style="width: 80%;" matInput data-name="dateFormat" [matDatepicker]="picker2"
                                    placeholder="Product Effective Date" formControlName="planEffectiveDate" >
                                <mat-datepicker-toggle matSuffix [for]="picker2">
                                </mat-datepicker-toggle>
                                <mat-datepicker class="col-md-3" #picker2></mat-datepicker>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="ym_form_group col-6 m-0">
                            <label class="md-lbl">Plan Status</label>
                            <div class="ym_form_select m-0">
                                <select formControlName="planStatus" #productStatusList>
                                    <option selected value="">Please Select a value</option>
                                    <option value="Active">Active</option>
                                    <option value="Terminated">Terminated</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>
    </div>
    <hr class="m-0 p-0">

    <div formGroupName="coverageInfo">
        <div class="mt-1 pt-1">
            <mat-accordion>
                <mat-expansion-panel [expanded]="true">
                    <mat-expansion-panel-header class="md-bgClr">
                        <mat-panel-title style="color: white;">
                            Coverage Admin
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="row">
                        <div class="ym_form_group required col-3">
                            <label class="md-lbl">Line Of Business</label>
                            <div class="ym_form_select" style="width: 70%;">
                                <select formControlName="lineOfBusiness" #languageElement (change)="onChangeOfLOB($event)">
                                    <!-- <option selected value="">Please select a value</option> -->
                                    <option let *ngFor="let list of lineOfBusinessList" value="{{list.description}}">
                                        {{list.description}}</option>
                                </select>
                            </div>
                        </div>
                        <div class="ym_form_group required col-2">
                            <label class="md-lbl">Coverage Type</label>
                            <div class="ym_form_select" style="width: 100%;">
                                <select formControlName="coverageType" #languageElement (change)="onChangeOfCoverageType($event)">
                                    <!-- <option selected value="">Please select a value</option> -->
                                    <option let *ngFor="let list of coverageTypeList" value="{{list.coverageCode}}">
                                        {{list.coverageType}}</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-1"> 
                            <i (mouseover)="onMouseover()" class="fa fa-question-circle md-circle" aria-hidden="true"></i>
                            <span *ngIf="isTooltip" class="tooltiptext md-hover-tooltip">Please select 'Line Of Business' to view the corresponding coverage type."</span>
                        </div>
                        <div class="ym_form_group col-3">
                            <label class="md-lbl">General Ledger Account Number</label>
                            <div class="ym_form_select" style="width: 70%;">
                                <select formControlName="generalLedgerAccountNumber" #languageElement>
                                    <!-- <option selected value="">Please select a value</option> -->
                                    <option let *ngFor="let list of GLAccountNumberList" value="{{list.description}}">
                                        {{list.description}}</option>
                                </select>
                            </div>
                        </div>
                        <div class="ym_form_group required col-3">
                            <label class="md-lbl">Coverage Effective Date</label>
                            <div class="row pl-1">
                                <input style="width: 80%;" matInput data-name="dateFormat" [matDatepicker]="picker3"
                                    placeholder="Product Effective Date" formControlName="coverageEffectiveDate">
                                <mat-datepicker-toggle matSuffix [for]="picker3">
                                </mat-datepicker-toggle>
                                <mat-datepicker class="col-md-3" #picker3></mat-datepicker>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="ym_form_group col-3">
                            <label class="md-lbl">Coverage Status</label>
                            <div class="ym_form_select" style="width: 70%;">
                                <select formControlName="coverageStatus" #languageElement>
                                    <option selected value="">Please select a value</option>
                                    <option value="Active">Active</option>
                                    <option value="Terminated">Terminated</option>
                                </select>
                            </div>
                        </div>
                        <div class="ym_form_group col-3">
                            <label class="md-lbl">Coverage Termination Date</label>
                            <div class="row pl-1">
                                <input style="width: 80%;" matInput data-name="dateFormat" [matDatepicker]="picker4"
                                    placeholder="Product Effective Date" formControlName="coverageTerminationDate">
                                <mat-datepicker-toggle matSuffix [for]="picker4">
                                </mat-datepicker-toggle>
                                <mat-datepicker class="col-md-3" #picker4></mat-datepicker>
                            </div>
                        </div>
                        <div class="ym_form_group col-3">
                            <label class="md-lbl">Coverage In Use</label>
                            <input style="width: 80%;" formControlName="coverageInUse">
                        </div>
                        <div class="ym_form_group col-3">
                            <label class="md-lbl">Maximum Claim Benefit Amount</label>
                            <input style="width: 80%;" onlyNumber (keyup)="onKeyUpMaxClaim($event)"  formControlName="maximumBenefitAmount">
                            <span *ngIf="isMaxClaimTooltip" class="tooltiptext">Enter number in this field</span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="ym_form_group col-3">
                            <label class="md-lbl">Maximum Claim Benefit Term (months)</label>
                            <input style="width: 80%;" onlyNumber (keyup)="onKeyUpMaxNum($event)" formControlName="maximumClaimBenefitTerm">
                            <span *ngIf="isMaxNumClaimTooltip" class="tooltiptext">Enter number in this field</span>
                        </div>
                        <div class="ym_form_group col-3">
                            <label class="md-lbl">Maximum Monthly Claim Benefit Amount</label>
                            <input style="width: 80%;" onlyNumber (keyup)="onKeyUpMaxMonth($event)" formControlName="maximumMonthlyClaimBenefitAmount">
                            <span *ngIf="isMaxMonthClaimTooltip" class="tooltiptext">Enter number in this field</span>
                        </div>
                        <div class="ym_form_group col-6">
                            <label class="md-lbl">Notes</label>
                            <textarea rows="4" style="width: 97%;" formControlName="comment"></textarea>
                        </div>
                    </div>

                </mat-expansion-panel>
            </mat-accordion>
        </div>

        <hr class="m-0 p-0">
        <div class="mt-1 pt-1">
            <mat-accordion>
                <mat-expansion-panel [expanded]="true">
                    <mat-expansion-panel-header class="md-bgClr">
                        <mat-panel-title style="color: white;">
                            Coverage Features
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="row">
                        <div class="ym_form_group col-4">
                            <label class="md-lbl">Termination Due To Claim</label>
                            <div class="ym_form_select" style="width: 70%;">
                                <select formControlName="terminationDueToClaim" #languageElement>
                                    <!-- <option selected value="">Please select a value</option> -->
                                    <option let *ngFor="let list of terminationDueToClaimList"
                                        value="{{list.description}}">
                                        {{list.description}}</option>
                                </select>
                            </div>
                        </div>
                        <div class="ym_form_group  col-4">
                            <label class="md-lbl">Lower Maximum Coverage Amount</label>
                            <mat-slide-toggle formControlName="lowerMaximumCoverageAmount">
                            </mat-slide-toggle>
                        </div>
                        <div class="ym_form_group col-4">
                            <label class="md-lbl">Rider Benefit</label>
                            <mat-slide-toggle formControlName="riderBenefit">
                            </mat-slide-toggle>
                        </div>
                    </div>
                </mat-expansion-panel>
            </mat-accordion>
        </div>

        <hr class="m-0 p-0">
        <div class="mt-1 pt-1">
            <mat-accordion>
                <mat-expansion-panel [expanded]="true">
                    <mat-expansion-panel-header class="md-bgClr">
                        <mat-panel-title style="color: white;">
                            Coverage Limits
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="row">
                        <div class="ym_form_group col-4">
                            <label class="md-lbl">Minimum Issue Age (years)</label>
                            <input onlyNumber (keyup)="onKeyUpMinIssue($event)" formControlName="minimumIssueAge">
                            <span *ngIf="isMinIssueTooltip" class="tooltiptext">Enter number in this field</span>
                        </div>
                        <div class="ym_form_group  col-4">
                            <label class="md-lbl">Maximum Issue Age (years)
                            </label>
                            <input onlyNumber (keyup)="onKeyUpMaxIssue($event)" formControlName="maximumIssueAge">
                            <span *ngIf="isMaxIssueTooltip" class="tooltiptext">Enter number in this field</span>
                        </div>
                        <div class="ym_form_group col-4">
                            <label class="md-lbl">Lower Maximum Coverage Amount Based Age</label>
                            <input onlyNumber (keyup)="onKeyUpMaxCoverage($event)" formControlName="lowerMaximumCoverageAmountBasedAge">
                            <span *ngIf="isMaxCoverageTooltip" class="tooltiptext">Enter number in this field</span>
                        </div>

                    </div>
                    <div class="row">
                        <div class="ym_form_group col-4">
                            <label class="md-lbl">Maximum Coverage Amount</label>
                            <input onlyNumber (keyup)="onKeyUpMaxCoverageAmount($event)" formControlName="maximumCoverageAmount">
                            <span *ngIf="isMaxCoverageAmountTooltip" class="tooltiptext">Enter number in this
                                field</span>
                        </div>
                        <div class="ym_form_group col-4">
                            <label class="md-lbl">Minimum Coverage Amount</label>
                            <input onlyNumber (keyup)="onKeyUpMinCoverageAmount($event)" formControlName="minimumCoverageAmt">
                            <span *ngIf="isMinCoverageAmountTooltip" class="tooltiptext">Enter number in this
                                field</span>
                        </div>
                        <div class="ym_form_group  col-4">
                            <label class="md-lbl">Minimum Issue Age for Lower Coverage Amount</label>
                            <input onlyNumber (keyup)="onKeyUpMinIssueAmount($event)" formControlName="minimumAgeLowerCoverageAmount">
                            <span *ngIf="isMinIssueAmountTooltip" class="tooltiptext">Enter number in this field</span>
                        </div>

                    </div>
                    <div class="row">
                        <div class="ym_form_group col-4">
                            <label class="md-lbl">Maximum Insurable Loan Period Regular (months)</label>
                            <input onlyNumber (keyup)="onKeyUpMinInsurable($event)" formControlName="maximumInsurableLoanPeriodRegular">
                            <span *ngIf="isMinInsurableTooltip" class="tooltiptext">Enter number in this field</span>
                        </div>
                        <div class="ym_form_group col-4">
                            <label class="md-lbl">Maximum Insurable Loan Period Residual Value (months)</label>
                            <input onlyNumber (keyup)="onKeyUpMaxInsurable($event)" formControlName="maximumInsurableLoanPeriodResidualValue">
                            <span *ngIf="isMaxInsurableTooltip" class="tooltiptext">Enter number in this field</span>
                        </div>
                        <div class="ym_form_group col-4">
                            <label class="md-lbl">Working Eligibility Period (hours)</label>
                            <input onlyNumber (keyup)="onKeyUpWorkingPeriod($event)" formControlName="eligibilityHoursAmount">
                            <span *ngIf="isWorkingPeriodTooltip" class="tooltiptext">Enter number in this field</span>
                        </div>

                    </div>
                    <div class="row">
                        <div class="ym_form_group  col-4">
                            <label class="md-lbl">Guaranteed Maximum Insured Amount</label>
                            <input onlyNumber (keyup)="onKeyUpGuaranteedAmount($event)" formControlName="nonEvidenceMaximumAmount">
                            <span *ngIf="isGuaranteedAmountTooltip" class="tooltiptext">Enter number in this
                                field</span>
                        </div>
                        <div class="ym_form_group col-4">
                            <label class="md-lbl">Maximum Monthly Benefit Amount</label>
                            <input onlyNumber (keyup)="onKeyUpMaxMonthAmt($event)" formControlName="maximumMonthlyBenefitAmount">
                            <span *ngIf="isMaxMonthAmtTooltip" class="tooltiptext">Enter number in this field</span>
                        </div>
                        <div class="ym_form_group col-4">
                            <label class="md-lbl">Loss Of Employment Continuous Work Period (months)</label>
                            <input onlyNumber (keyup)="onKeyUpLossOfEmp($event)" formControlName="lossOfEmploymentContinuousWorkPeriod">
                            <span *ngIf="isLossOfEmpTooltip" class="tooltiptext">Enter number in this field</span>
                        </div>

                    </div>
                    <div class="row">
                        <div class="ym_form_group col-4">
                            <label class="md-lbl">Coverage Termination Age (years)</label>
                            <input onlyNumber (keyup)="onKeyUpCoverageTermination($event)" formControlName="coverageTerminationAge">
                            <span *ngIf="isCoverageTerminationTooltip" class="tooltiptext">Enter number in this
                                field</span>
                        </div>
                    </div>
                </mat-expansion-panel>
            </mat-accordion>
        </div>

        <hr class="m-0 p-0">
        <div class="mt-1 pt-1">
            <mat-accordion>
                <mat-expansion-panel [expanded]="true">
                    <mat-expansion-panel-header class="md-bgClr">
                        <mat-panel-title style="color: white;">
                            Coverage Premium Calc
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="row">
                        <div class="ym_form_group col-4">
                            <label class="md-lbl">Certificate Fee</label>
                            <input onlyNumber (keyup)="onKeyUpCertificateFee($event)" formControlName="certificateFee">
                            <span *ngIf="isCertificateFeeTooltip" class="tooltiptext">Enter number in this field</span>
                        </div>
                        <div class="ym_form_group col-4">
                            <label class="md-lbl">CURP</label>
                            <input onlyNumber (keyup)="onKeyUpCURP($event)" formControlName="curp">
                            <span *ngIf="isCURPTooltip" class="tooltiptext">Enter number in this field</span>
                        </div>
                        <div class="ym_form_group col-4">
                            <label class="md-lbl">Minimum Premium</label>
                            <input onlyNumber (keyup)="onKeyUpMinPremium($event)" formControlName="minimumPremium">
                            <span *ngIf="isMinimumPremiumTooltip" class="tooltiptext">Enter number in this field</span>
                        </div>
                    </div>
                </mat-expansion-panel>
            </mat-accordion>
        </div>
    </div>
    <hr class="mt-1">
    <div class="row">
        <div class="col-md-6">
        </div>
        <div class="col-md-6">
            <button class="btn btn-primary float-right ml-2" (click)="onclickOfCoverageSubmit()"><i class="fa fa-save mr-1"></i>Submit</button>
            <button class="btn btn-primary float-right ml-2"><i class="fa fa-times mr-1"></i>Clear</button>
        </div>
    </div>
</div>